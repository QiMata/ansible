<?php
/**
 * iTop Configuration File - Generated by Ansible
 * Mode: {{ itop_config_mode }}
 */

// Database configuration
$MySettings['db_host'] = '{{ itop_db_host }}';
$MySettings['db_user'] = '{{ itop_db_user }}';
$MySettings['db_pwd'] = '{{ itop_db_password }}';
$MySettings['db_name'] = '{{ itop_db_name }}';
$MySettings['db_subname'] = '';

// Application settings
$MySettings['timezone'] = '{{ itop_timezone }}';
$MySettings['log_level'] = {{ itop_log_level }};
$MySettings['session_timeout'] = {{ itop_session_timeout }};

// Performance settings
$MySettings['max_execution_time'] = {{ itop_max_execution_time }};
$MySettings['memory_limit'] = '{{ itop_memory_limit }}';

{% if itop_enable_ldap %}
// LDAP Configuration
$MySettings['authent-ldap'] = array(
    'host' => '{{ itop_ldap_host }}',
    'port' => {{ itop_ldap_port }},
    'bind_dn' => '{{ itop_ldap_bind_dn }}',
    'bind_pwd' => '{{ itop_ldap_bind_password }}',
    'base_dn' => '{{ itop_ldap_base_dn }}',
    'user_filter' => '{{ itop_ldap_user_filter }}',
);
{% endif %}

// Security settings
$MySettings['secure_connection_required'] = {{ itop_enable_ssl | lower }};

// Log settings
{% if itop_log_rotation %}
$MySettings['log_rotate'] = true;
$MySettings['log_retention_days'] = {{ itop_log_retention_days }};
{% endif %}

// Module configuration
$MyModules = array(
{% for module in itop_modules %}
    '{{ module }}' => 'production',
{% endfor %}
);
?>
