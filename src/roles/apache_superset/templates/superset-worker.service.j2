[Unit]
Description=Apache Superset Celery Worker
After=network.target

[Service]
Type=simple
User={{ superset_user }}
Group={{ superset_group }}
WorkingDirectory={{ superset_install_dir }}
Environment=SUPERSET_CONFIG_PATH={{ superset_config_path }}
ExecStart={{ superset_venv_dir }}/bin/celery --app=superset.tasks.celery_app:app worker --pool=prefork -O fair -c 4
Restart=on-failure
RestartSec=5

[Install]
WantedBy=multi-user.target
