# Prometheus HAProxy Exporter Configuration
# Generated by Ansible

# HAProxy stats URL for scraping
ARGS="--haproxy.scrape-uri=http://{{ haproxy_stats_bind_address | default('127.0.0.1') }}:{{ haproxy_stats_port | default(9000) }}{{ haproxy_stats_uri | default('/haproxy?stats') }};csv --web.listen-address={{ haproxy_prometheus.bind_address | default('127.0.0.1') }}:{{ haproxy_prometheus.port | default(9101) }}"

# Additional options
{% if haproxy_stats_user is defined and haproxy_stats_password is defined %}
ARGS="$ARGS --haproxy.username={{ haproxy_stats_user }} --haproxy.password={{ haproxy_stats_password }}"
{% endif %}

# Log level
ARGS="$ARGS --log.level=info"
