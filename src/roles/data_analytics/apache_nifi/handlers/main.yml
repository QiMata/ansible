---
- name: Restart NiFi service
  become: true
  ansible.builtin.systemd:
    name: nifi
    state: restarted

- name: Reload systemd
  become: true
  ansible.builtin.systemd:
    daemon_reload: true

- name: Restart Vault agent for NiFi
  become: true
  ansible.builtin.systemd:
    name: vault-agent-nifi
    state: restarted

- name: Restart NiFi custom metrics
  become: true
  ansible.builtin.systemd:
    name: nifi-custom-metrics
    state: restarted

- name: Restart NiFi health check timer
  become: true
  ansible.builtin.systemd:
    name: nifi-health-check.timer
    state: restarted

- name: Restart NiFi config drift timer
  become: true
  ansible.builtin.systemd:
    name: nifi-config-drift.timer
    state: restarted
