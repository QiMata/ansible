---
# APT Mirror Health Check Configuration
# Generated by Ansible - Do not edit manually

service:
  port: {{ apt_mirror_health_check_port }}
  host: "0.0.0.0"
  debug: false

monitoring:
  interval: {{ apt_mirror_health_check_interval }}
  
checks:
  disk_space:
    enabled: true
    warning_threshold: 85
    critical_threshold: 95
    
  sync_status:
    enabled: true
    warning_hours: 25
    critical_hours: 48
    
  apache_service:
    enabled: true
    service_name: "apache2"
    
  mirror_completeness:
    enabled: true
    required_directories:
      - "mirror"
      - "var" 
      - "skel"

alerting:
{% if apt_mirror_alerting_enabled %}
  enabled: true
  email: "{{ apt_mirror_alert_email | default('') }}"
  webhook: "{{ apt_mirror_alert_webhook | default('') }}"
  slack_webhook: "{{ apt_mirror_alert_slack_webhook | default('') }}"
{% else %}
  enabled: false
{% endif %}

mirror:
  base_path: "{{ apt_mirror_base_path }}"
  architectures: {{ apt_mirror_architectures | to_json }}
  mirrors: {{ apt_mirror_mirrors | to_json }}
