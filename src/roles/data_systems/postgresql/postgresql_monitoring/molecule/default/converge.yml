---
- name: Converge
  hosts: all
  become: true
  vars:
    postgresql_version: "{{ postgresql_version | default('14') }}"
    postgresql_env: "dev"
    postgresql_monitoring_enabled: true
    postgresql_health_check_enabled: true
    postgresql_slow_query_log_enabled: true
  tasks:
    - name: Apply base PostgreSQL role  # noqa role-name[path]
      ansible.builtin.import_role:
        name: ../../..

    - name: Apply PostgreSQL monitoring role  # noqa role-name[path]
      ansible.builtin.import_role:
        name: ../..
