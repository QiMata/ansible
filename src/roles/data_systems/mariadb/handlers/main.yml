---
# ============================================================================
# MARIADB HANDLERS
# ============================================================================

- name: Restart MariaDB service
  ansible.builtin.service:
    name: "{{ mariadb_service_name }}"
    state: restarted
    enabled: true
  listen: "restart mariadb"

- name: Wait for MariaDB availability
  ansible.builtin.wait_for:
    port: "{{ mariadb_port }}"
    host: "{{ mariadb_bind_address }}"
    delay: 5
    timeout: 300
  listen: "wait for mariadb"

- name: Reload MariaDB service
  ansible.builtin.service:
    name: "{{ mariadb_service_name }}"
    state: reloaded
  listen: "reload mariadb"
