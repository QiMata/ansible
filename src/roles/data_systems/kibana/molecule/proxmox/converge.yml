---
- name: Converge Elasticsearch
  hosts: all
  become: true
  gather_facts: true
  vars:
    es_cluster_name: proxmox-es  # noqa var-naming
    es_heap_size: "512m"  # noqa var-naming
    es_enable_security: false  # noqa var-naming
  tasks:
    - name: Include elasticsearch role
      ansible.builtin.include_role:
        name: elasticsearch

- name: Converge Kibana
  hosts: all
  become: true
  gather_facts: true
  vars:
    kibana_elasticsearch_hosts:
      - "http://localhost:9200"
  tasks:
    - name: Include kibana role
      ansible.builtin.include_role:
        name: kibana
