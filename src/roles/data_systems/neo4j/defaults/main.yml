---
neo4j_edition: enterprise
neo4j_release_track: latest
neo4j_version: ""
neo4j_accept_license: true

# Multi-Version Support & Upgrades
neo4j_upgrade_enabled: false
neo4j_backup_before_upgrade: true
neo4j_rollback_enabled: true
neo4j_version_pin: true
neo4j_upgrade_strategy: "rolling"  # rolling, blue_green, stop_start
neo4j_pre_upgrade_checks: true
neo4j_post_upgrade_validation: true
neo4j_upgrade_timeout: "600"

neo4j_cluster_enabled: false
neo4j_core_count: "{{ groups['neo4j_core'] | length if groups['neo4j_core'] is defined else 1 }}"
neo4j_read_replica_count: "{{ groups['neo4j_replica'] | length if groups['neo4j_replica'] is defined else 0 }}"

# Advanced Clustering Features
neo4j_cluster_discovery_type: "LIST"  # LIST, DNS, K8S
neo4j_cluster_routing_ttl: "300s"
neo4j_cluster_topology_refresh: "5s"
neo4j_cluster_catch_up_timeout: "10m"
neo4j_cluster_join_timeout: "10m"
neo4j_cluster_leader_election_timeout: "7s"
neo4j_cluster_minimum_core_cluster_size_at_formation: 3
neo4j_cluster_minimum_core_cluster_size_at_runtime: 3

neo4j_listen_address: "0.0.0.0"
neo4j_advertised_address: "{{ ansible_default_ipv4.address }}"
neo4j_bolt_port: 7687
neo4j_http_enabled: false
neo4j_https_enabled: true
neo4j_http_port: 7474
neo4j_https_port: 7473

neo4j_tls_client_enable: true
neo4j_tls_cluster_enable: "{{ neo4j_cluster_enabled }}"
neo4j_certificates_source: "self-signed"

neo4j_initial_password: ""
neo4j_user_creation: []

# Database Management
neo4j_databases:
  - name: "neo4j"
    default: true
  - name: "system"
    default: false
neo4j_database_backup_individual: true
neo4j_default_database: "neo4j"

# Advanced Security Features
neo4j_ldap_enabled: false
neo4j_ldap_server: ""
neo4j_ldap_port: 389
neo4j_ldap_use_starttls: false
neo4j_ldap_user_dn_template: "uid={0},ou=users,dc=example,dc=com"
neo4j_ldap_authorization_enabled: false
neo4j_oauth_enabled: false
neo4j_oauth_provider: ""
neo4j_password_policy_enabled: true
neo4j_password_policy_min_length: 8
neo4j_audit_enabled: "{{ neo4j_edition == 'enterprise' }}"
neo4j_audit_log_rotation_size: "20m"
neo4j_audit_log_rotation_keep_number: 7
neo4j_procedures_whitelist: []
neo4j_functions_whitelist: []
neo4j_security_procedures_unrestricted: []

# Plugin Management
neo4j_plugins:
  - name: "apoc"
    version: "latest"
    enabled: true
  - name: "graph-data-science"
    version: "latest"
    enabled: false
neo4j_plugin_dir: "/var/lib/neo4j/plugins"
neo4j_apoc_export_file_enabled: true
neo4j_apoc_import_file_enabled: true
neo4j_apoc_import_file_use_neo4j_config: true

neo4j_heap_size: ""
neo4j_pagecache_size: ""

neo4j_backup_enabled: "{{ neo4j_edition == 'enterprise' }}"
neo4j_backup_listen_address: "127.0.0.1:6362"
neo4j_backup_cron_enabled: false
neo4j_backup_hour: 2
neo4j_backup_dir: "/var/backups/neo4j"
neo4j_backup_retention: 7

# Data Import/Export Features
neo4j_import_enabled: false
neo4j_import_sources: []
neo4j_export_scheduled: false
neo4j_data_seeding: []
neo4j_csv_import_enabled: true
neo4j_import_dir: "/var/lib/neo4j/import"
neo4j_export_dir: "/var/lib/neo4j/export"

neo4j_metrics_enabled: "{{ neo4j_edition == 'enterprise' }}"
neo4j_metrics_listen: ":2004"

# Performance Monitoring & Alerts
neo4j_query_monitoring: true
neo4j_slow_query_threshold: "1000ms"
neo4j_connection_monitoring: true
neo4j_health_checks:
  - name: "database_available"
    enabled: true
  - name: "cluster_healthy"
    enabled: "{{ neo4j_cluster_enabled }}"
neo4j_alerting_enabled: false
neo4j_alerting_webhook: ""
neo4j_jmx_enabled: true
neo4j_jmx_port: 3637

neo4j_elk_integration: false
neo4j_elk_host: ""
neo4j_elk_port: 5044
neo4j_elk_cloud_id: ""
neo4j_elk_username: ""
neo4j_elk_password: ""

neo4j_logrotate_enable: true
neo4j_logrotate_rotation: 7
neo4j_logrotate_frequency: weekly
neo4j_log_level: INFO

# High Availability & Disaster Recovery
neo4j_ha_proxy_enabled: false
neo4j_load_balancer_config: {}
neo4j_cross_region_backup: false
neo4j_disaster_recovery_plan: false
neo4j_ha_health_check_interval: "3s"
neo4j_ha_failover_timeout: "40s"

# Service Dependencies
neo4j_depends_on_services: []
neo4j_wait_for_services: true
neo4j_health_check_retries: 10
neo4j_health_check_delay: 5
neo4j_service_start_timeout: 300

# Configuration Templates
neo4j_config_template: "neo4j.conf.j2"
neo4j_custom_config: {}
neo4j_environment_config: {}
neo4j_hardware_optimized_config: true
